"use strict";var e=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(e){o(e)}}function a(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.info=void 0;const n=require("../registry/registry"),i=t(require("../../log/log")),r=require("./infoView"),o=t(require("semver")),s=require("../../common/Constants"),a=require("../../util");exports.info=function(t){return e(this,void 0,void 0,(function*(){const u=a.PackageUtil.parse(t);if(u.name){const t=o.default.valid(u.version)||"";return yield function(t,a){return e(this,void 0,void 0,(function*(){const e=yield(0,n.fetchPackageInfo)(t),{versions:u,time:c,"dist-tags":f,maintainers:l}=e,d=[];Object.keys(u).forEach((e=>{d.push(e)}));const h=d.indexOf(a);let v={};if(!a){const e=d.sort(o.default.compareLoose);v=u[e[e.length-1]]}a&&-1!==h&&(v=u[d[h]]),(0,n.checkRegistry)(v.name,v.version,{versions:u}),a&&-1===h?i.default.error("",`${t}@${a} is not in the ${s.Constants.PM} registry.`):(0,r.infoView)(v,c,f,d,l)}))}(u.name,t),!0}return i.default.error("","The package name cannot be empty."),!1}))};