"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateCmd=void 0;const n=require("../core/install"),r=require("../common/message"),o=require("../util"),i=t(require("../log")),a=require("../common/GlobalState");exports.updateCmd=function(t){return e(this,void 0,void 0,(function*(){a.GlobalState.command=a.CommandType.UPDATE;for(const e of t){const t=o.PackageUtil.parse(e);if(t.version)return void i.default.error("",(0,r.getMessage)("update.hasVersion",{version:t.version}))}try{yield(0,n.updateSymlink)(t)}catch(e){o.PrintUtil.print((0,r.getMessage)("update.fail")),process.exit(1)}}))};